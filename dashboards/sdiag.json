{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": 25,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": true,
      "datasource": {
        "type": "graphite",
        "uid": "000000001"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 23,
      "panels": [
        {
          "content": "**VALUES ARE RESET AT MIDNIGHT UTC TIME BY DEFAULT.**\n\n**Server thread count**  The number of current active slurmctld threads. A high number would mean a high load processing events like job submissions, jobs dispatching, jobs completing, etc.  If this  is often close to `MAX_SERVER_THREADS (256)` it could point to a potential bottleneck.\n\n**Agent queue size**  Slurm design has scalability in mind and sending messages to thousands of nodes is not a trivial task. The agent mechanism helps to control communication between the slurm daemons and the controller for a best effort. If (**agent queue size** + `AGENT_THREAD_COUNT` + 2) > `MAX_SERVER_THREADS`, there could be some delays affecting jobs management.  `AGENT_THREAD_COUNT (10)`\n\n**Jobs submitted**  Number of jobs submitted since last reset\n\n**Jobs started**  Number of jobs started since last reset. This  includes  backfilled  jobs.\n\n**Jobs completed**  Number of jobs completed since last reset.\n\n**Jobs canceled** Number of jobs canceled since last reset.\n\n**Jobs failed** Number of jobs failed since last reset.\n",
          "editable": true,
          "error": false,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 1
          },
          "id": 6,
          "isNew": true,
          "links": [],
          "mode": "markdown",
          "style": {},
          "title": "Slurmctld Execution",
          "type": "text"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "refId": "A"
        }
      ],
      "title": "Slurmctld Info",
      "type": "row"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "graphite",
        "uid": "000000001"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 24,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "refId": "A"
        }
      ],
      "title": "Slurmctld Stats / Job State Stats",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "thread count",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Agent Queue Size"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#CCA300",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Canceled"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#BF1B00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Completed"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#E5AC0E",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Failed"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#962D82",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Started"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#6ED0E0",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server Thread Count"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#6ED0E0",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Agent Queue Size"
            },
            "properties": [
              {
                "id": "custom.axisLabel",
                "value": "queue size"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 2
      },
      "id": 7,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"server_thread_count\"}",
          "fullMetaSearch": false,
          "hide": false,
          "includeNullMetadata": true,
          "legendFormat": "Server Thread Count",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.server_thread_count, 'Server Thread Count')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"agent_queue_size\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Agent Queue Size",
          "range": true,
          "refId": "B",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.agent_queue_size, 'Agent Queue Size')",
          "useBackend": false
        }
      ],
      "title": "Server Thread Count / Agent Queue Size",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Submitted"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#E24D42",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Submitted per second"
            },
            "properties": [
              {
                "id": "custom.drawStyle",
                "value": "bars"
              },
              {
                "id": "custom.fillOpacity",
                "value": 100
              },
              {
                "id": "custom.lineWidth",
                "value": 0
              },
              {
                "id": "custom.axisLabel",
                "value": "jobs per second"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 2
      },
      "id": 1,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"jobs_submitted\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Submitted",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.jobs_submitted, 'Jobs Submitted')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "idelta(sdiag{host=\"slurm-test\", field=\"jobs_submitted\"}[$__interval])",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Submitted per second",
          "range": true,
          "refId": "C",
          "target": "alias(perSecond(diamond.holyoke.holy-slurm02.sdiag.jobs_submitted), 'Jobs Submitted per second')",
          "useBackend": false
        }
      ],
      "title": "Jobs Submitted",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Started"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#6ED0E0",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Started per second"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7EB26D",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Started per second"
            },
            "properties": [
              {
                "id": "custom.drawStyle",
                "value": "bars"
              },
              {
                "id": "custom.fillOpacity",
                "value": 100
              },
              {
                "id": "custom.lineWidth",
                "value": 0
              },
              {
                "id": "custom.axisLabel",
                "value": "jobs / sec"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 2
      },
      "id": 2,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"jobs_started\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Started",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.jobs_started, 'Jobs Started')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "idelta(sdiag{host=\"slurm-test\", field=\"jobs_started\"}[$__interval])",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Started per second",
          "range": true,
          "refId": "B",
          "target": "alias(perSecond(diamond.holyoke.holy-slurm02.sdiag.jobs_started), 'Jobs Started per second')",
          "useBackend": false
        }
      ],
      "title": "Jobs Started",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Completed"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#E5AC0E",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Completed per second"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#5195CE",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Started"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#6ED0E0",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Completed per second"
            },
            "properties": [
              {
                "id": "custom.drawStyle",
                "value": "bars"
              },
              {
                "id": "custom.fillOpacity",
                "value": 100
              },
              {
                "id": "custom.lineWidth",
                "value": 0
              },
              {
                "id": "custom.axisLabel",
                "value": "jobs / sec"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 9
      },
      "id": 3,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"jobs_completed\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Completed",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.jobs_completed, 'Jobs Completed')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "idelta(sdiag{host=\"slurm-test\", field=\"jobs_completed\"}[$__interval])",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Completed per second",
          "range": true,
          "refId": "B",
          "target": "alias(perSecond(diamond.holyoke.holy-slurm02.sdiag.jobs_completed), 'Jobs Completed per second')",
          "useBackend": false
        }
      ],
      "title": "Jobs Completed",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Canceled"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#BF1B00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Completed"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#E5AC0E",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Started"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#6ED0E0",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Canceled per second"
            },
            "properties": [
              {
                "id": "custom.drawStyle",
                "value": "bars"
              },
              {
                "id": "custom.fillOpacity",
                "value": 100
              },
              {
                "id": "custom.lineWidth",
                "value": 0
              },
              {
                "id": "custom.axisLabel",
                "value": "jobs / sec"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 9
      },
      "id": 4,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"jobs_canceled\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Canceled",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.jobs_canceled, 'Jobs Canceled')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "idelta(sdiag{host=\"slurm-test\", field=\"jobs_canceled\"}[$__interval])",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Canceled per second",
          "range": true,
          "refId": "B",
          "target": "alias(perSecond(diamond.holyoke.holy-slurm02.sdiag.jobs_canceled), 'Jobs Canceled per second')",
          "useBackend": false
        }
      ],
      "title": "Jobs Canceled",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Canceled"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#BF1B00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Completed"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#E5AC0E",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Failed"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#962D82",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs Started"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#6ED0E0",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 9
      },
      "id": 5,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"jobs_failed\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs Failed",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.jobs_failed, 'Jobs Failed')",
          "useBackend": false
        }
      ],
      "title": "Jobs Failed",
      "type": "timeseries"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "graphite",
        "uid": "000000001"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "id": 25,
      "panels": [
        {
          "content": "A  scheduling cycle implies to get the job_write_lock lock, then trying to get resources for jobs pending, starting from the most priority one and going in descendent order. Once a job can not get the resources the loop keeps going but just for jobs requesting other partitions. Jobs with dependencies or affected by accounts limits are not processed.\n\n**Last cycle**  Time in microseconds for last scheduling cycle.\n\n**Max cycle**  Time in microseconds for the maximum scheduling cycle since last reset.\n\n**Total cycles** Number of scheduling cycles since last reset. Scheduling is done in periodically and when a job is submitted or a job is completed.\n\n**Mean cycle**  Mean of scheduling cycles since last reset.\n\n**Mean depth cycle**  Mean of cycle depth.  Depth means number of jobs processed in a scheduling cycle.\n\n**Cycles per minute**  Counter of scheduling executions per minute\n\n**Last queue length**  Length of jobs pending queue.\n",
          "editable": true,
          "error": false,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 17
          },
          "id": 8,
          "isNew": true,
          "links": [],
          "mode": "markdown",
          "style": {},
          "title": "Main Scheduling Algorithm",
          "type": "text"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "refId": "A"
        }
      ],
      "title": "Main Scheduler Info",
      "type": "row"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "graphite",
        "uid": "000000001"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 26,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "refId": "A"
        }
      ],
      "title": "Main Scheduler Stats",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "Âµs"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 18
      },
      "id": 9,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"main_last_cycle\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Time for last scheduling cycle",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.main_last_cycle, 'Time for last scheduling cycle')",
          "useBackend": false
        }
      ],
      "title": "Last Cycle Time",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "cycles",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Number of scheduling cycles"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#CCA300",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Scheduling cycles / second"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#BF1B00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Scheduling cycles / second"
            },
            "properties": [
              {
                "id": "custom.drawStyle",
                "value": "bars"
              },
              {
                "id": "custom.fillOpacity",
                "value": 100
              },
              {
                "id": "custom.lineWidth",
                "value": 0
              },
              {
                "id": "custom.axisLabel",
                "value": "cycles per second"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 18
      },
      "id": 11,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"main_total_cycles\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Number of scheduling cycles",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.main_total_cycles, 'Number of scheduling cycles')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "idelta(sdiag{host=\"slurm-test\", field=\"main_total_cycles\"}[$__interval])",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Scheduling cycles / second",
          "range": true,
          "refId": "B",
          "target": "alias(perSecond(diamond.holyoke.holy-slurm02.sdiag.main_total_cycles), 'Scheduling cycles / second')",
          "useBackend": false
        }
      ],
      "title": "Total Cycles",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "microseconds / cycle",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Mean of scheduling cycles"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0A50A1",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 18
      },
      "id": 12,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"main_mean_cycle\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Mean of scheduling cycles",
          "range": true,
          "refId": "A",
          "target": "alias(scale(diamond.holyoke.holy-slurm02.sdiag.main_mean_cycle, 0.000001), 'Mean of scheduling cycles')",
          "useBackend": false
        }
      ],
      "title": "Mean Cycle",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "cycles",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Mean of jobs processed in a scheduling cycle"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#1F78C1",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 25
      },
      "id": 13,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"main_mean_depth_cycle\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Mean of jobs processed in a scheduling cycle",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.main_mean_depth_cycle, 'Mean of jobs processed in a scheduling cycle')",
          "useBackend": false
        }
      ],
      "title": "Mean Depth Cycle",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "executions per minute",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Scheduling executions per minute"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#806EB7",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 25
      },
      "id": 14,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"main_cycles_per_minute\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Scheduling executions per minute",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.main_cycles_per_minute, 'Scheduling executions per minute')",
          "useBackend": false
        }
      ],
      "title": "Cycles per minute",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Length of jobs pending queue"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#BF1B00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 25
      },
      "id": 15,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"main_last_queue_length\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Length of jobs pending queue",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.main_last_queue_length, 'Length of jobs pending queue')",
          "useBackend": false
        }
      ],
      "title": "Last Queue Length",
      "type": "timeseries"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "graphite",
        "uid": "000000001"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 32
      },
      "id": 27,
      "panels": [
        {
          "content": "A backfilling scheduling cycle implies to get locks for jobs, nodes and partitions objects then trying to get resources for jobs pending.  Jobs are processed based on priorities.  If a job can not get resources the algorithm calculates when it could get them obtaining a future start time for the job.  Then next job is processed and the algorithm tries to get resources for that job but avoiding to affect the previous ones, and again it calculates the future start time if not current resources available. The backfilling algorithm takes more time for each new job to process since more priority jobs can not be affected. The algorithm itself takes measures for avoiding a long execution cycle and for taking all the locks for too long.\n\n**Total backfilled jobs (since last slurm start)**  Number of jobs started thanks to backfilling since last slurm start.\n\n**Total backfilled jobs (since last stats cycle start)** Number of jobs started thanks to backfilling since last time stats where reset. By default these values are reset at midnight UTC time.\n\n**Total cycles**  Number of scheduling cycles since last reset\n\n**Last cycle**  Time in microseconds of last backfilling cycle.  It counts only execution time removing sleep time inside a scheduling cycle when it takes too much time.  Note that locks are released during the sleep time so that other work can proceed.\n\n**Max cycle**  Time in microseconds of maximum backfilling cycle execution since last reset.   It counts only execution time removing sleep time inside a scheduling cycle when it takes too much time.   Note that locks are released during the sleep time so that other work can proceed.\n\n**Mean cycle**  Mean of backfilling scheduling cycles in microseconds since last reset\n\n**Last depth cycle**  Number of processed jobs during last backfilling scheduling cycle.  It counts every process even if it has no option to execute due to dependencies or limits.\n\n**Last depth cycle (try sched)**  Number of processed jobs during last backfilling scheduling cycle.  It counts only processes with a chance to run waiting for available resources.  These jobs are which makes the backfilling algorithm heavier.\n\n**Depth Mean**  Mean of processed jobs during backfilling scheduling cycles since last reset.\n\n**Depth Mean (try sched)**  Mean of processed jobs during backfilling scheduling cycles since last reset.  It counts only processes with a chance to run waiting for available resources.  These jobs are which makes the backfilling algorithm heavier.\n\n**Last queue length**  Number of jobs pending to be processed by backfilling algorithm.  A job appears as much times as partitions it requested.\n\n**Queue length Mean**  Mean of jobs pending to be processed by backfilling algorithm.",
          "editable": true,
          "error": false,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 33
          },
          "id": 16,
          "isNew": true,
          "links": [],
          "mode": "markdown",
          "style": {},
          "title": "Backfilling Scheduling",
          "type": "text"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "refId": "A"
        }
      ],
      "title": "Backfill Scheduler Info",
      "type": "row"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "graphite",
        "uid": "000000001"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 33
      },
      "id": 28,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "refId": "A"
        }
      ],
      "title": "Backfill Scheduler Stats",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Backfill Jobs Started"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#447EBC",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 34
      },
      "id": 17,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"bf_total_jobs_since_slurm_start\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Backfill Jobs Started",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.bf_total_jobs_since_slurm_start, 'Backfill Jobs Started')",
          "useBackend": false
        }
      ],
      "title": "Total backfilled jobs (since last slurm start)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Backfill Jobs Started"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#5195CE",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Backfill Jobs Started per second"
            },
            "properties": [
              {
                "id": "custom.drawStyle",
                "value": "bars"
              },
              {
                "id": "custom.fillOpacity",
                "value": 100
              },
              {
                "id": "custom.lineWidth",
                "value": 0
              },
              {
                "id": "custom.axisLabel",
                "value": "jobs / sec"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 34
      },
      "id": 18,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"bf_total_jobs_since_cycle_start\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Backfill Jobs Started",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.bf_total_jobs_since_cycle_start, 'Backfill Jobs Started')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "idelta(sdiag{host=\"slurm-test\", field=\"bf_total_jobs_since_cycle_start\"}[$__interval])",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Backfill Jobs Started per second",
          "range": true,
          "refId": "B",
          "target": "alias(perSecond(diamond.holyoke.holy-slurm02.sdiag.bf_total_jobs_since_cycle_start), 'Backfill Jobs Started per second')",
          "useBackend": false
        }
      ],
      "title": "Total backfilled jobs (since last stats cycle start)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "cycles",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Backfill scheduling cycles"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#E24D42",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Backfill scheduling cycles per second"
            },
            "properties": [
              {
                "id": "custom.drawStyle",
                "value": "bars"
              },
              {
                "id": "custom.fillOpacity",
                "value": 100
              },
              {
                "id": "custom.lineWidth",
                "value": 0
              },
              {
                "id": "unit",
                "value": "short"
              },
              {
                "id": "custom.axisLabel",
                "value": "cycles / second"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 34
      },
      "id": 19,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"bf_total_cycles\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Backfill scheduling cycles",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.bf_total_cycles, 'Backfill scheduling cycles')",
          "useBackend": false
        }
      ],
      "title": "Total Backfill Cycles",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "Âµs"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 41
      },
      "id": 20,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"bf_last_cycle\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Time of last backfiling cycle",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.bf_last_cycle, 'Time of last backfilling cycle')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"bf_mean_cycle\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Mean of backfilling scheduling cycles",
          "range": true,
          "refId": "B",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.bf_mean_cycle, 'Mean of backfilling scheduling cycles')",
          "useBackend": false
        }
      ],
      "title": "Last/Mean Backfill Cycle Time",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Processed jobs during last backfill"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#806EB7",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Processed jobs during last backfill (try sched)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#DEDAF7",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 41
      },
      "id": 21,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"bf_last_depth_cycle\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Processed jobs during last backfill",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.bf_last_depth_cycle, 'Processed jobs during last backfill')",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"bf_last_depth_cycle_try\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Processed jobs during last backfill (try sched)",
          "range": true,
          "refId": "B",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.bf_last_depth_cycle_try, 'Processed jobs during last backfill (try sched)')",
          "useBackend": false
        }
      ],
      "title": "Last Depth Cycle",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "grafanacloud-prom"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "jobs",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Jobs pending backfill processing"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#BF1B00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Processed jobs during last backfill"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#806EB7",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Processed jobs during last backfill (try sched)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#DEDAF7",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 41
      },
      "id": 22,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.3.2",
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "expr": "sdiag{host=\"slurm-test\", field=\"bf_queue_length\"}",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "legendFormat": "Jobs pending backfill processing",
          "range": true,
          "refId": "A",
          "target": "alias(diamond.holyoke.holy-slurm02.sdiag.bf_queue_length, 'Jobs pending backfill processing')",
          "useBackend": false
        }
      ],
      "title": "Last Backfill Queue Length",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "graphite",
        "uid": "000000001"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 48
      },
      "id": 29,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "graphite",
            "uid": "000000001"
          },
          "refId": "A"
        }
      ],
      "title": "New row",
      "type": "row"
    }
  ],
  "refresh": "5m",
  "revision": 1,
  "schemaVersion": 38,
  "tags": [
    "Slurm",
    "Production"
  ],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-3h",
    "to": "now"
  },
  "timepicker": {
    "now": true,
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "Test Cluster Scheduler Statistics",
  "uid": "000000016",
  "version": 22,
  "weekStart": ""
}